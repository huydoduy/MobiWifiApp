
@{
    ViewData["Title"] = "report";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@model IEnumerable<MobiWifiApp.Models.Report>


<script type="text/javascript" src="https://www.google.com/jsapi"></script>


<script type="text/javascript">
    
    alert("aaaaaaaaa");
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(drawRegionsMap);


    $(function () {
        $.ajax(
            {
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: ' CmxObservations/report',
                data: '{}',
                success: function (response) {
                    alert("OK");

                    console.log();
                    alert(response.d);
                    drawRegionsMap(response.d)
                    // calling method  
                    
                },

                error: function () {
                    alert("Error loading data! Please try again.");
                }
            });
    })  



    function drawRegionsMap(dataValues) {
        alert("OK");
        
          var data = new google.visualization.DataTable();

        data.addColumn('string', 'Month');
        data.addColumn('number', 'Count');


        for (var i = 0; i < dataValues.length; i++) {
            data.addRow([dataValues[i].Hours, dataValues[i].Count]);
            
        }  
          
      var options = {
          title: 'Histtogram',
          legend: { position: 'none' },
        };

        var chart = new google.visualization.Histogram(document.getElementById('regions_div'));
        chart.draw(data, options);
    }
</script>
<div id="regions_div" style="width: 400px; height: 300px;">
</div>
